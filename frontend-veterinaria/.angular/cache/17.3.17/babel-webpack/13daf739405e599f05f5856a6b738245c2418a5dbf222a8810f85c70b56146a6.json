{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/resultado.service\";\nimport * as i2 from \"../../services/notificacion.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ResultadoListComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarBusqueda());\n    });\n    i0.ɵɵelement(1, \"i\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ResultadoListComponent_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_button_22_Template_button_click_0_listener() {\n      const estado_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cambiarFiltroEstado(estado_r4));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const estado_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"btn-primary\", ctx_r1.filtroEstado === estado_r4)(\"btn-outline-primary\", ctx_r1.filtroEstado !== estado_r4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", estado_r4, \" \");\n  }\n}\nfunction ResultadoListComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"p\", 24);\n    i0.ɵɵtext(3, \"Cargando resultados...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ResultadoListComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"i\", 28);\n    i0.ɵɵelementStart(2, \"p\", 3);\n    i0.ɵɵtext(3, \"No se encontraron resultados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.nuevo());\n    });\n    i0.ɵɵelement(5, \"i\", 5);\n    i0.ɵɵtext(6, \"Registrar Primer Resultado \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"small\", 3);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const resultado_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Orden #\", resultado_r7.orden.idOrden, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(resultado_r7.orden.tipoExamen);\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"i\", 51);\n    i0.ɵɵelementStart(2, \"small\", 52);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const resultado_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, resultado_r7.fechaValidacion, \"dd/MM/yyyy HH:mm\"), \" \");\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"i\", 53);\n    i0.ɵɵelementStart(2, \"small\", 3);\n    i0.ɵɵtext(3, \"Pendiente\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"i\", 54);\n    i0.ɵɵelementStart(2, \"small\", 52);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const resultado_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, resultado_r7.fechaEntrega, \"dd/MM/yyyy HH:mm\"), \" \");\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"i\", 55);\n    i0.ɵɵelementStart(2, \"small\", 3);\n    i0.ɵɵtext(3, \"No entregado\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"small\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, ResultadoListComponent_div_24_div_3_tr_21_div_9_Template, 7, 2, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"div\", 35);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"span\", 36);\n    i0.ɵɵelement(15, \"i\", 37);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtemplate(18, ResultadoListComponent_div_24_div_3_tr_21_div_18_Template, 5, 4, \"div\", 34)(19, ResultadoListComponent_div_24_div_3_tr_21_div_19_Template, 4, 0, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtemplate(21, ResultadoListComponent_div_24_div_3_tr_21_div_21_Template, 5, 4, \"div\", 34)(22, ResultadoListComponent_div_24_div_3_tr_21_div_22_Template, 4, 0, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 32)(24, \"div\", 38)(25, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_25_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.ver(resultado_r7.idResultado));\n    });\n    i0.ɵɵelement(26, \"i\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_27_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.descargarPDF(resultado_r7.idResultado));\n    });\n    i0.ɵɵelement(28, \"i\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_29_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.validar(resultado_r7));\n    });\n    i0.ɵɵelement(30, \"i\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 45);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_31_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.marcarComoEntregado(resultado_r7));\n    });\n    i0.ɵɵelement(32, \"i\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_33_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editar(resultado_r7.idResultado));\n    });\n    i0.ɵɵelement(34, \"i\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_3_tr_21_Template_button_click_35_listener() {\n      const resultado_r7 = i0.ɵɵrestoreView(_r6).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.eliminar(resultado_r7));\n    });\n    i0.ɵɵelement(36, \"i\", 50);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const resultado_r7 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"#\", resultado_r7.idResultado, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 18, resultado_r7.fechaResultado, \"dd/MM/yyyy HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", resultado_r7.orden);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", resultado_r7.descripcion || \"-\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"bg-\" + ctx_r1.getEstadoBadge(resultado_r7));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r1.getEstadoIcono(resultado_r7));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getEstadoTexto(resultado_r7), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", resultado_r7.validado);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !resultado_r7.validado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", resultado_r7.entregado);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !resultado_r7.entregado);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !resultado_r7.validado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", resultado_r7.validado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", resultado_r7.entregado || !resultado_r7.validado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", resultado_r7.validado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", resultado_r7.validado);\n  }\n}\nfunction ResultadoListComponent_div_24_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"table\", 30)(2, \"thead\", 31)(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Fecha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Orden\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Descripci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Validaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Entrega\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 32);\n    i0.ɵɵtext(19, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, ResultadoListComponent_div_24_div_3_tr_21_Template, 37, 21, \"tr\", 33);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.resultadosPaginados);\n  }\n}\nfunction ResultadoListComponent_div_24_div_4_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 58)(1, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_4_li_9_Template_a_click_1_listener() {\n      const pagina_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(pagina_r10));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pagina_r10 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", pagina_r10 === ctx_r1.paginaActual);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pagina_r10);\n  }\n}\nfunction ResultadoListComponent_div_24_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"div\")(2, \"small\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"nav\")(5, \"ul\", 57)(6, \"li\", 58)(7, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_4_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual - 1));\n    });\n    i0.ɵɵtext(8, \"Anterior\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, ResultadoListComponent_div_24_div_4_li_9_Template, 3, 3, \"li\", 60);\n    i0.ɵɵelementStart(10, \"li\", 58)(11, \"a\", 59);\n    i0.ɵɵlistener(\"click\", function ResultadoListComponent_div_24_div_4_Template_a_click_11_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual + 1));\n    });\n    i0.ɵɵtext(12, \"Siguiente\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" Mostrando \", (ctx_r1.paginaActual - 1) * ctx_r1.itemsPorPagina + 1, \" - \", ctx_r1.Math.min(ctx_r1.paginaActual * ctx_r1.itemsPorPagina, ctx_r1.resultadosFiltrados.length), \" de \", ctx_r1.resultadosFiltrados.length, \" registros \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getNumeroPaginas());\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === ctx_r1.totalPaginas);\n  }\n}\nfunction ResultadoListComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 7);\n    i0.ɵɵtemplate(2, ResultadoListComponent_div_24_div_2_Template, 7, 0, \"div\", 17)(3, ResultadoListComponent_div_24_div_3_Template, 22, 1, \"div\", 26)(4, ResultadoListComponent_div_24_div_4_Template, 13, 8, \"div\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.resultadosFiltrados.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.resultadosFiltrados.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.totalPaginas > 1);\n  }\n}\nexport let ResultadoListComponent = /*#__PURE__*/(() => {\n  class ResultadoListComponent {\n    resultadoService;\n    notificacionService;\n    router;\n    route;\n    resultados = [];\n    resultadosFiltrados = [];\n    loading = true;\n    searchTerm = '';\n    filtroEstado = 'TODOS';\n    filtroOrdenId = null;\n    // Filtros de estado\n    estados = ['TODOS', 'PENDIENTE', 'VALIDADO', 'ENTREGADO'];\n    // Paginación\n    paginaActual = 1;\n    itemsPorPagina = 10;\n    totalPaginas = 0;\n    constructor(resultadoService, notificacionService, router, route) {\n      this.resultadoService = resultadoService;\n      this.notificacionService = notificacionService;\n      this.router = router;\n      this.route = route;\n    }\n    ngOnInit() {\n      // Verificar si viene filtro por orden\n      this.route.queryParams.subscribe(params => {\n        if (params['orden']) {\n          this.filtroOrdenId = +params['orden'];\n        }\n      });\n      this.cargarResultados();\n    }\n    cargarResultados() {\n      this.loading = true;\n      if (this.filtroOrdenId) {\n        this.resultadoService.buscarPorOrden(this.filtroOrdenId).subscribe({\n          next: data => {\n            this.procesarResultados(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      } else {\n        this.resultadoService.listarTodos().subscribe({\n          next: data => {\n            this.procesarResultados(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      }\n    }\n    procesarResultados(data) {\n      this.resultados = data;\n      this.aplicarFiltros();\n      this.loading = false;\n    }\n    aplicarFiltros() {\n      let resultado = this.resultados;\n      // Filtro por estado\n      if (this.filtroEstado !== 'TODOS') {\n        resultado = resultado.filter(r => {\n          if (this.filtroEstado === 'PENDIENTE') return !r.validado;\n          if (this.filtroEstado === 'VALIDADO') return r.validado && !r.entregado;\n          if (this.filtroEstado === 'ENTREGADO') return r.entregado;\n          return true;\n        });\n      }\n      // Filtro por búsqueda\n      if (this.searchTerm.trim() !== '') {\n        const term = this.searchTerm.toLowerCase();\n        resultado = resultado.filter(r => r.descripcion?.toLowerCase().includes(term) || r.valores?.toLowerCase().includes(term) || r.conclusiones?.toLowerCase().includes(term));\n      }\n      this.resultadosFiltrados = resultado;\n      this.calcularPaginacion();\n      this.paginaActual = 1;\n    }\n    cambiarFiltroEstado(estado) {\n      this.filtroEstado = estado;\n      this.aplicarFiltros();\n    }\n    buscar() {\n      this.aplicarFiltros();\n    }\n    limpiarBusqueda() {\n      this.searchTerm = '';\n      this.aplicarFiltros();\n    }\n    limpiarFiltroOrden() {\n      this.filtroOrdenId = null;\n      this.router.navigate(['/resultados']);\n      this.cargarResultados();\n    }\n    calcularPaginacion() {\n      this.totalPaginas = Math.ceil(this.resultadosFiltrados.length / this.itemsPorPagina);\n    }\n    get resultadosPaginados() {\n      const inicio = (this.paginaActual - 1) * this.itemsPorPagina;\n      const fin = inicio + this.itemsPorPagina;\n      return this.resultadosFiltrados.slice(inicio, fin);\n    }\n    cambiarPagina(pagina) {\n      if (pagina >= 1 && pagina <= this.totalPaginas) {\n        this.paginaActual = pagina;\n      }\n    }\n    getNumeroPaginas() {\n      return Array.from({\n        length: this.totalPaginas\n      }, (_, i) => i + 1);\n    }\n    nuevo() {\n      this.router.navigate(['/resultados/nuevo']);\n    }\n    editar(id) {\n      this.router.navigate(['/resultados/editar', id]);\n    }\n    ver(id) {\n      this.router.navigate(['/resultados/ver', id]);\n    }\n    validar(resultado) {\n      if (resultado.validado) {\n        this.notificacionService.warning('Este resultado ya está validado');\n        return;\n      }\n      if (this.notificacionService.confirmarAccion('¿Está seguro de validar este resultado?')) {\n        this.resultadoService.validar(resultado.idResultado).subscribe({\n          next: () => {\n            this.notificacionService.success('Resultado validado exitosamente');\n            this.cargarResultados();\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorGeneral('No se pudo validar el resultado');\n          }\n        });\n      }\n    }\n    marcarComoEntregado(resultado) {\n      if (resultado.entregado) {\n        this.notificacionService.warning('Este resultado ya fue entregado');\n        return;\n      }\n      if (!resultado.validado) {\n        this.notificacionService.warning('Debe validar el resultado antes de marcarlo como entregado');\n        return;\n      }\n      if (this.notificacionService.confirmarAccion('¿Confirmar entrega del resultado?')) {\n        this.resultadoService.marcarComoEntregado(resultado.idResultado).subscribe({\n          next: () => {\n            this.notificacionService.success('Resultado marcado como entregado');\n            this.cargarResultados();\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorGeneral('No se pudo marcar como entregado');\n          }\n        });\n      }\n    }\n    descargarPDF(id) {\n      this.resultadoService.descargarPDF(id).subscribe({\n        next: blob => {\n          const url = window.URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          link.href = url;\n          link.download = `resultado_${id}.pdf`;\n          link.click();\n          window.URL.revokeObjectURL(url);\n          this.notificacionService.success('PDF descargado exitosamente');\n        },\n        error: error => {\n          console.error('Error:', error);\n          this.notificacionService.errorGeneral('No se pudo descargar el PDF');\n        }\n      });\n    }\n    eliminar(resultado) {\n      if (resultado.validado) {\n        this.notificacionService.warning('No se puede eliminar un resultado validado');\n        return;\n      }\n      if (this.notificacionService.confirmarAccion('¿Está seguro de eliminar este resultado?')) {\n        this.resultadoService.eliminar(resultado.idResultado).subscribe({\n          next: () => {\n            this.notificacionService.exitoEliminar('Resultado');\n            this.cargarResultados();\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorGeneral('No se pudo eliminar el resultado');\n          }\n        });\n      }\n    }\n    getEstadoBadge(resultado) {\n      if (resultado.entregado) return 'success';\n      if (resultado.validado) return 'warning';\n      return 'secondary';\n    }\n    getEstadoTexto(resultado) {\n      if (resultado.entregado) return 'Entregado';\n      if (resultado.validado) return 'Validado';\n      return 'Pendiente';\n    }\n    getEstadoIcono(resultado) {\n      if (resultado.entregado) return 'fa-check-double';\n      if (resultado.validado) return 'fa-check';\n      return 'fa-clock';\n    }\n    exportarExcel() {\n      this.notificacionService.info('Función de exportación en desarrollo');\n    }\n    exportarPDF() {\n      this.notificacionService.info('Función de exportación en desarrollo');\n    }\n    static ɵfac = function ResultadoListComponent_Factory(t) {\n      return new (t || ResultadoListComponent)(i0.ɵɵdirectiveInject(i1.ResultadoService), i0.ɵɵdirectiveInject(i2.NotificacionService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ResultadoListComponent,\n      selectors: [[\"app-resultado-list\"]],\n      decls: 25,\n      vars: 5,\n      consts: [[1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-file-medical-alt\", \"me-2\"], [1, \"text-muted\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"me-2\"], [1, \"card\", \"shadow-sm\", \"mb-4\"], [1, \"card-body\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-search\"], [\"type\", \"text\", \"placeholder\", \"Buscar por descripci\\u00F3n, valores o conclusiones...\", 1, \"form-control\", 3, \"ngModelChange\", \"keyup\", \"ngModel\"], [\"class\", \"btn btn-outline-secondary\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"group\", 1, \"btn-group\", \"w-100\"], [\"class\", \"btn\", 3, \"btn-primary\", \"btn-outline-primary\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"card shadow-sm\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fas\", \"fa-times\"], [1, \"btn\", 3, \"click\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"mt-3\"], [1, \"card\", \"shadow-sm\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-between align-items-center mt-3\", 4, \"ngIf\"], [1, \"fas\", \"fa-inbox\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\", \"align-middle\"], [1, \"table-light\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"text-truncate\", 2, \"max-width\", \"250px\"], [1, \"badge\"], [1, \"fas\"], [1, \"btn-group\", \"btn-group-sm\"], [\"title\", \"Ver detalles\", 1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"title\", \"Descargar PDF\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-file-pdf\"], [\"title\", \"Validar resultado\", 1, \"btn\", \"btn-outline-success\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-check\"], [\"title\", \"Marcar como entregado\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-hand-holding\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-outline-warning\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-edit\"], [\"title\", \"Eliminar\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-trash\"], [1, \"fas\", \"fa-check-circle\", \"text-success\"], [1, \"d-block\", \"text-muted\"], [1, \"fas\", \"fa-clock\", \"text-warning\"], [1, \"fas\", \"fa-check-double\", \"text-success\"], [1, \"fas\", \"fa-times-circle\", \"text-secondary\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\"], [1, \"pagination\", \"pagination-sm\", \"mb-0\"], [1, \"page-item\"], [1, \"page-link\", 3, \"click\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"]],\n      template: function ResultadoListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\");\n          i0.ɵɵelement(4, \"i\", 2);\n          i0.ɵɵtext(5, \"Gesti\\u00F3n de Resultados\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 3);\n          i0.ɵɵtext(7, \"Resultados de an\\u00E1lisis veterinarios\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function ResultadoListComponent_Template_button_click_8_listener() {\n            return ctx.nuevo();\n          });\n          i0.ɵɵelement(9, \"i\", 5);\n          i0.ɵɵtext(10, \"Nuevo Resultado \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 6)(12, \"div\", 7)(13, \"div\", 8)(14, \"div\", 9)(15, \"div\", 10)(16, \"span\", 11);\n          i0.ɵɵelement(17, \"i\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ResultadoListComponent_Template_input_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup\", function ResultadoListComponent_Template_input_keyup_18_listener() {\n            return ctx.buscar();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(19, ResultadoListComponent_button_19_Template, 2, 0, \"button\", 14);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"div\", 9)(21, \"div\", 15);\n          i0.ɵɵtemplate(22, ResultadoListComponent_button_22_Template, 2, 5, \"button\", 16);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(23, ResultadoListComponent_div_23_Template, 4, 0, \"div\", 17)(24, ResultadoListComponent_div_24_Template, 5, 3, \"div\", 18);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.searchTerm);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.estados);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i4.DatePipe],\n      styles: [\".table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.35em .65em}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.alert[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;border-radius:.25rem}.fa-check-circle[_ngcontent-%COMP%], .fa-check-double[_ngcontent-%COMP%]{font-size:1.1rem}\"]\n    });\n  }\n  return ResultadoListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}