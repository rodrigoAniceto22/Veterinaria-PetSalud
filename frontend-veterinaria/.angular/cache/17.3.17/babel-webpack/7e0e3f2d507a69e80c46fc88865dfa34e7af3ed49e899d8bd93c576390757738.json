{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/toma-muestra.service\";\nimport * as i2 from \"../../services/orden.service\";\nimport * as i3 from \"../../services/tecnico.service\";\nimport * as i4 from \"../../services/notificacion.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nconst _c0 = a0 => [\"/ordenes/ver\", a0];\nconst _c1 = a0 => [\"/tecnicos/ver\", a0];\nfunction TomaMuestraListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵtext(2, \" Orden: \");\n    i0.ɵɵelementStart(3, \"strong\", 34);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_9_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarFiltros());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.ordenSeleccionada.tipoExamen);\n  }\n}\nfunction TomaMuestraListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵtext(2, \" T\\u00E9cnico: \");\n    i0.ɵɵelementStart(3, \"strong\", 34);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarFiltros());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.tecnicoSeleccionado.nombres, \" \", ctx_r1.tecnicoSeleccionado.apellidos, \"\");\n  }\n}\nfunction TomaMuestraListComponent_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_button_26_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarBusqueda());\n    });\n    i0.ɵɵelement(1, \"i\", 38);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaMuestraListComponent_button_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_button_38_Template_button_click_0_listener() {\n      const estado_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cambiarFiltroEstado(estado_r6));\n    });\n    i0.ɵɵelement(1, \"i\", 40);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const estado_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"btn-primary\", ctx_r1.filtroEstado === estado_r6)(\"btn-outline-primary\", ctx_r1.filtroEstado !== estado_r6);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(\"text-\" + ctx_r1.getColorEstado(estado_r6));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", estado_r6, \" \");\n  }\n}\nfunction TomaMuestraListComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵelement(1, \"div\", 42);\n    i0.ɵɵelementStart(2, \"p\", 43);\n    i0.ɵɵtext(3, \"Cargando tomas de muestra...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵelement(1, \"i\", 47);\n    i0.ɵɵelementStart(2, \"p\", 3);\n    i0.ɵɵtext(3, \"No se encontraron tomas de muestra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.nueva());\n    });\n    i0.ɵɵelement(5, \"i\", 10);\n    i0.ɵɵtext(6, \"Registrar Primera Toma de Muestra \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_tr_21_small_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const toma_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(toma_r9.volumenMuestra);\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_tr_21_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 77);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const toma_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c0, toma_r9.orden.idOrden));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", toma_r9.orden.tipoExamen, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(toma_r9.orden.mascota == null ? null : toma_r9.orden.mascota.nombre);\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_tr_21_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_tr_21_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 77);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const toma_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, toma_r9.tecnico.idTecnico));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", toma_r9.tecnico.nombres, \" \", toma_r9.tecnico.apellidos, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(toma_r9.tecnico.especialidad);\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"strong\", 53);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"small\");\n    i0.ɵɵelement(6, \"i\", 54);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\")(9, \"div\", 55)(10, \"div\", 56);\n    i0.ɵɵelement(11, \"i\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"strong\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵtemplate(16, TomaMuestraListComponent_div_40_div_3_tr_21_small_16_Template, 2, 1, \"small\", 58);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtemplate(18, TomaMuestraListComponent_div_40_div_3_tr_21_div_18_Template, 6, 5, \"div\", 59)(19, TomaMuestraListComponent_div_40_div_3_tr_21_span_19_Template, 2, 0, \"span\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtemplate(21, TomaMuestraListComponent_div_40_div_3_tr_21_div_21_Template, 6, 6, \"div\", 59);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\")(23, \"span\", 60);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"td\")(26, \"small\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"td\", 51)(29, \"div\", 61)(30, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_button_click_30_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.ver(toma_r9.idToma));\n    });\n    i0.ɵɵelement(31, \"i\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 64);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_button_click_32_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editar(toma_r9.idToma));\n    });\n    i0.ɵɵelement(33, \"i\", 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 66)(35, \"button\", 67);\n    i0.ɵɵelement(36, \"i\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"ul\", 69)(38, \"li\")(39, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_a_click_39_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarEstado(toma_r9, \"PROGRAMADA\"));\n    });\n    i0.ɵɵelement(40, \"i\", 71);\n    i0.ɵɵtext(41, \"Programada \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"li\")(43, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_a_click_43_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarEstado(toma_r9, \"REALIZADA\"));\n    });\n    i0.ɵɵelement(44, \"i\", 72);\n    i0.ɵɵtext(45, \"Realizada \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"li\")(47, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_a_click_47_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarEstado(toma_r9, \"PROCESANDO\"));\n    });\n    i0.ɵɵelement(48, \"i\", 73);\n    i0.ɵɵtext(49, \"Procesando \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"li\")(51, \"a\", 70);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_a_click_51_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarEstado(toma_r9, \"COMPLETADA\"));\n    });\n    i0.ɵɵelement(52, \"i\", 74);\n    i0.ɵɵtext(53, \"Completada \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(54, \"button\", 75);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_3_tr_21_Template_button_click_54_listener() {\n      const toma_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.eliminar(toma_r9));\n    });\n    i0.ɵɵelement(55, \"i\", 76);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const toma_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(toma_r9.codigoMuestra || \"Sin c\\u00F3digo\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatearFechaHora(toma_r9.fechaHora), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMap(ctx_r1.getIconoTipoMuestra(toma_r9.tipoMuestra));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(toma_r9.tipoMuestra);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", toma_r9.volumenMuestra);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", toma_r9.orden);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !toma_r9.orden);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", toma_r9.tecnico);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"bg-\" + ctx_r1.getColorEstado(toma_r9.estado));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", toma_r9.estado, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(toma_r9.metodoObtencion || \"-\");\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"table\", 49)(2, \"thead\", 50)(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"C\\u00F3digo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Fecha/Hora\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Tipo Muestra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Orden\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"T\\u00E9cnico\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Estado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"M\\u00E9todo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 51);\n    i0.ɵɵtext(19, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, TomaMuestraListComponent_div_40_div_3_tr_21_Template, 56, 13, \"tr\", 52);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.tomasPaginadas);\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_4_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 80)(1, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_4_li_9_Template_a_click_1_listener() {\n      const pagina_r12 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(pagina_r12));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pagina_r12 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", pagina_r12 === ctx_r1.paginaActual);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pagina_r12);\n  }\n}\nfunction TomaMuestraListComponent_div_40_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 78)(1, \"div\")(2, \"small\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"nav\")(5, \"ul\", 79)(6, \"li\", 80)(7, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_4_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual - 1));\n    });\n    i0.ɵɵtext(8, \"Anterior\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, TomaMuestraListComponent_div_40_div_4_li_9_Template, 3, 3, \"li\", 82);\n    i0.ɵɵelementStart(10, \"li\", 80)(11, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_div_40_div_4_Template_a_click_11_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual + 1));\n    });\n    i0.ɵɵtext(12, \"Siguiente\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\" Mostrando \", (ctx_r1.paginaActual - 1) * ctx_r1.itemsPorPagina + 1, \" - \", ctx_r1.Math.min(ctx_r1.paginaActual * ctx_r1.itemsPorPagina, ctx_r1.tomasFiltradas.length), \" de \", ctx_r1.tomasFiltradas.length, \" registros \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getNumeroPaginas());\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === ctx_r1.totalPaginas);\n  }\n}\nfunction TomaMuestraListComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"div\", 12);\n    i0.ɵɵtemplate(2, TomaMuestraListComponent_div_40_div_2_Template, 7, 0, \"div\", 30)(3, TomaMuestraListComponent_div_40_div_3_Template, 22, 1, \"div\", 45)(4, TomaMuestraListComponent_div_40_div_4_Template, 13, 8, \"div\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.tomasFiltradas.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.tomasFiltradas.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.totalPaginas > 1);\n  }\n}\nexport let TomaMuestraListComponent = /*#__PURE__*/(() => {\n  class TomaMuestraListComponent {\n    tomaMuestraService;\n    ordenService;\n    tecnicoService;\n    notificacionService;\n    router;\n    route;\n    tomasMuestra = [];\n    tomasFiltradas = [];\n    loading = true;\n    searchTerm = '';\n    filtroEstado = 'TODAS';\n    filtroTecnicoId = null;\n    filtroOrdenId = null;\n    ordenSeleccionada = null;\n    tecnicoSeleccionado = null;\n    // Estados posibles\n    estados = ['TODAS', 'PROGRAMADA', 'REALIZADA', 'PROCESANDO', 'COMPLETADA'];\n    // Tipos de muestra\n    tiposMuestra = ['Sangre', 'Orina', 'Heces', 'Piel', 'Pelo', 'Saliva', 'Otro'];\n    // Paginación\n    paginaActual = 1;\n    itemsPorPagina = 10;\n    totalPaginas = 0;\n    constructor(tomaMuestraService, ordenService, tecnicoService, notificacionService, router, route) {\n      this.tomaMuestraService = tomaMuestraService;\n      this.ordenService = ordenService;\n      this.tecnicoService = tecnicoService;\n      this.notificacionService = notificacionService;\n      this.router = router;\n      this.route = route;\n    }\n    ngOnInit() {\n      // Verificar filtros por URL\n      this.route.queryParams.subscribe(params => {\n        if (params['orden']) {\n          this.filtroOrdenId = +params['orden'];\n          this.cargarOrdenSeleccionada(this.filtroOrdenId);\n        }\n        if (params['tecnico']) {\n          this.filtroTecnicoId = +params['tecnico'];\n          this.cargarTecnicoSeleccionado(this.filtroTecnicoId);\n        }\n      });\n      this.cargarTomasMuestra();\n    }\n    cargarOrdenSeleccionada(id) {\n      this.ordenService.obtenerPorId(id).subscribe({\n        next: orden => {\n          this.ordenSeleccionada = orden;\n        },\n        error: error => {\n          console.error('Error al cargar orden:', error);\n        }\n      });\n    }\n    cargarTecnicoSeleccionado(id) {\n      this.tecnicoService.obtenerPorId(id).subscribe({\n        next: tecnico => {\n          this.tecnicoSeleccionado = tecnico;\n        },\n        error: error => {\n          console.error('Error al cargar técnico:', error);\n        }\n      });\n    }\n    cargarTomasMuestra() {\n      this.loading = true;\n      if (this.filtroOrdenId) {\n        this.tomaMuestraService.buscarPorOrden(this.filtroOrdenId).subscribe({\n          next: toma => {\n            this.procesarTomasMuestra(toma ? [toma] : []);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      } else if (this.filtroTecnicoId) {\n        this.tomaMuestraService.buscarPorTecnico(this.filtroTecnicoId).subscribe({\n          next: data => {\n            this.procesarTomasMuestra(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      } else {\n        this.tomaMuestraService.listarTodas().subscribe({\n          next: data => {\n            this.procesarTomasMuestra(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      }\n    }\n    procesarTomasMuestra(data) {\n      this.tomasMuestra = data;\n      this.aplicarFiltros();\n      this.loading = false;\n    }\n    aplicarFiltros() {\n      let resultado = this.tomasMuestra;\n      // Filtro por estado\n      if (this.filtroEstado !== 'TODAS') {\n        resultado = resultado.filter(t => t.estado === this.filtroEstado);\n      }\n      // Filtro por búsqueda\n      if (this.searchTerm.trim() !== '') {\n        const term = this.searchTerm.toLowerCase();\n        resultado = resultado.filter(t => t.tipoMuestra.toLowerCase().includes(term) || t.codigoMuestra && t.codigoMuestra.toLowerCase().includes(term) || t.tecnico && (t.tecnico.nombres?.toLowerCase().includes(term) || t.tecnico.apellidos?.toLowerCase().includes(term)) || t.orden && t.orden.tipoExamen?.toLowerCase().includes(term));\n      }\n      this.tomasFiltradas = resultado;\n      this.calcularPaginacion();\n      this.paginaActual = 1;\n    }\n    cambiarFiltroEstado(estado) {\n      this.filtroEstado = estado;\n      this.aplicarFiltros();\n    }\n    buscar() {\n      this.aplicarFiltros();\n    }\n    limpiarBusqueda() {\n      this.searchTerm = '';\n      this.aplicarFiltros();\n    }\n    limpiarFiltros() {\n      this.filtroOrdenId = null;\n      this.filtroTecnicoId = null;\n      this.ordenSeleccionada = null;\n      this.tecnicoSeleccionado = null;\n      this.router.navigate(['/toma-muestras']);\n      this.cargarTomasMuestra();\n    }\n    calcularPaginacion() {\n      this.totalPaginas = Math.ceil(this.tomasFiltradas.length / this.itemsPorPagina);\n    }\n    get tomasPaginadas() {\n      const inicio = (this.paginaActual - 1) * this.itemsPorPagina;\n      const fin = inicio + this.itemsPorPagina;\n      return this.tomasFiltradas.slice(inicio, fin);\n    }\n    cambiarPagina(pagina) {\n      if (pagina >= 1 && pagina <= this.totalPaginas) {\n        this.paginaActual = pagina;\n      }\n    }\n    getNumeroPaginas() {\n      return Array.from({\n        length: this.totalPaginas\n      }, (_, i) => i + 1);\n    }\n    nueva() {\n      this.router.navigate(['/toma-muestras/nueva']);\n    }\n    editar(id) {\n      this.router.navigate(['/toma-muestras/editar', id]);\n    }\n    ver(id) {\n      this.router.navigate(['/toma-muestras/ver', id]);\n    }\n    verOrden(idOrden) {\n      this.router.navigate(['/ordenes/ver', idOrden]);\n    }\n    verTecnico(idTecnico) {\n      this.router.navigate(['/tecnicos/ver', idTecnico]);\n    }\n    eliminar(toma) {\n      if (this.notificacionService.confirmarAccion(`¿Está seguro de eliminar la toma de muestra ${toma.codigoMuestra || 'sin código'}?`)) {\n        this.tomaMuestraService.eliminar(toma.idToma).subscribe({\n          next: () => {\n            this.notificacionService.exitoEliminar('Toma de muestra');\n            this.cargarTomasMuestra();\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorGeneral('No se pudo eliminar la toma de muestra');\n          }\n        });\n      }\n    }\n    cambiarEstado(toma, nuevoEstado) {\n      const tomaActualizada = {\n        ...toma,\n        estado: nuevoEstado\n      };\n      this.tomaMuestraService.actualizar(toma.idToma, tomaActualizada).subscribe({\n        next: () => {\n          this.notificacionService.success(`Estado actualizado a: ${nuevoEstado}`);\n          this.cargarTomasMuestra();\n        },\n        error: error => {\n          console.error('Error:', error);\n          this.notificacionService.errorGeneral('No se pudo actualizar el estado');\n        }\n      });\n    }\n    obtenerPendientes() {\n      this.loading = true;\n      this.tomaMuestraService.obtenerPendientes().subscribe({\n        next: data => {\n          this.procesarTomasMuestra(data);\n        },\n        error: error => {\n          console.error('Error:', error);\n          this.notificacionService.errorConexion();\n          this.loading = false;\n        }\n      });\n    }\n    getColorEstado(estado) {\n      const colores = {\n        'PROGRAMADA': 'info',\n        'REALIZADA': 'primary',\n        'PROCESANDO': 'warning',\n        'COMPLETADA': 'success'\n      };\n      return colores[estado] || 'secondary';\n    }\n    getIconoTipoMuestra(tipo) {\n      const iconos = {\n        'Sangre': 'fa-tint',\n        'Orina': 'fa-flask',\n        'Heces': 'fa-vial',\n        'Piel': 'fa-hand-paper',\n        'Pelo': 'fa-cut',\n        'Saliva': 'fa-droplet',\n        'Otro': 'fa-microscope'\n      };\n      return iconos[tipo] || 'fa-vial';\n    }\n    formatearFechaHora(fecha) {\n      if (!fecha) return '-';\n      const f = new Date(fecha);\n      return f.toLocaleString('es-PE', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    exportarExcel() {\n      this.notificacionService.info('Función de exportación en desarrollo');\n    }\n    exportarPDF() {\n      this.notificacionService.info('Función de exportación en desarrollo');\n    }\n    static ɵfac = function TomaMuestraListComponent_Factory(t) {\n      return new (t || TomaMuestraListComponent)(i0.ɵɵdirectiveInject(i1.TomaMuestraService), i0.ɵɵdirectiveInject(i2.OrdenService), i0.ɵɵdirectiveInject(i3.TecnicoService), i0.ɵɵdirectiveInject(i4.NotificacionService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i5.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TomaMuestraListComponent,\n      selectors: [[\"app-toma-muestra-list\"]],\n      decls: 41,\n      vars: 7,\n      consts: [[1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-syringe\", \"me-2\"], [1, \"text-muted\"], [1, \"mt-2\"], [\"class\", \"alert alert-info d-inline-flex align-items-center me-2\", 4, \"ngIf\"], [\"class\", \"alert alert-success d-inline-flex align-items-center\", 4, \"ngIf\"], [1, \"btn\", \"btn-outline-primary\", \"me-2\", 3, \"click\"], [1, \"fas\", \"fa-clock\", \"me-2\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"me-2\"], [1, \"card\", \"shadow-sm\", \"mb-4\"], [1, \"card-body\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-search\"], [\"type\", \"text\", \"placeholder\", \"Buscar por c\\u00F3digo, tipo de muestra, t\\u00E9cnico...\", 1, \"form-control\", 3, \"ngModelChange\", \"keyup\", \"ngModel\"], [\"class\", \"btn btn-outline-secondary\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"col-md-6\", \"text-end\"], [1, \"btn-group\"], [1, \"btn\", \"btn-outline-success\", 3, \"click\"], [1, \"fas\", \"fa-file-excel\", \"me-1\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-file-pdf\", \"me-1\"], [1, \"row\", \"mt-3\"], [1, \"col-12\"], [\"role\", \"group\", 1, \"btn-group\", \"w-100\"], [\"class\", \"btn\", 3, \"btn-primary\", \"btn-outline-primary\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"card shadow-sm\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\", \"d-inline-flex\", \"align-items-center\", \"me-2\"], [1, \"fas\", \"fa-filter\", \"me-2\"], [1, \"ms-2\"], [1, \"btn\", \"btn-sm\", \"btn-close\", \"ms-3\", 3, \"click\"], [1, \"alert\", \"alert-success\", \"d-inline-flex\", \"align-items-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fas\", \"fa-times\"], [1, \"btn\", 3, \"click\"], [1, \"fas\", \"fa-circle\", \"me-1\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"mt-3\"], [1, \"card\", \"shadow-sm\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-between align-items-center mt-3\", 4, \"ngIf\"], [1, \"fas\", \"fa-inbox\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\", \"align-middle\"], [1, \"table-light\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-primary\"], [1, \"fas\", \"fa-calendar-alt\", \"text-muted\", \"me-1\"], [1, \"d-flex\", \"align-items-center\"], [1, \"icono-muestra\", \"me-2\"], [1, \"fas\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"badge\"], [1, \"btn-group\", \"btn-group-sm\"], [\"title\", \"Ver detalles\", 1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-outline-warning\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"role\", \"group\", 1, \"btn-group\", \"btn-group-sm\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"title\", \"Cambiar estado\", 1, \"btn\", \"btn-outline-primary\", \"dropdown-toggle\"], [1, \"fas\", \"fa-sync-alt\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [1, \"fas\", \"fa-circle\", \"text-info\", \"me-2\"], [1, \"fas\", \"fa-circle\", \"text-primary\", \"me-2\"], [1, \"fas\", \"fa-circle\", \"text-warning\", \"me-2\"], [1, \"fas\", \"fa-circle\", \"text-success\", \"me-2\"], [\"title\", \"Eliminar\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"text-decoration-none\", 3, \"routerLink\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\"], [1, \"pagination\", \"pagination-sm\", \"mb-0\"], [1, \"page-item\"], [1, \"page-link\", 3, \"click\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"]],\n      template: function TomaMuestraListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\");\n          i0.ɵɵelement(4, \"i\", 2);\n          i0.ɵɵtext(5, \"Gesti\\u00F3n de Toma de Muestras\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 3);\n          i0.ɵɵtext(7, \"Registro y control de muestras veterinarias\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 4);\n          i0.ɵɵtemplate(9, TomaMuestraListComponent_div_9_Template, 6, 1, \"div\", 5)(10, TomaMuestraListComponent_div_10_Template, 6, 2, \"div\", 6);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\")(12, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_Template_button_click_12_listener() {\n            return ctx.obtenerPendientes();\n          });\n          i0.ɵɵelement(13, \"i\", 8);\n          i0.ɵɵtext(14, \"Ver Pendientes \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_Template_button_click_15_listener() {\n            return ctx.nueva();\n          });\n          i0.ɵɵelement(16, \"i\", 10);\n          i0.ɵɵtext(17, \"Nueva Toma de Muestra \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"div\", 11)(19, \"div\", 12)(20, \"div\", 13)(21, \"div\", 14)(22, \"div\", 15)(23, \"span\", 16);\n          i0.ɵɵelement(24, \"i\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 18);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function TomaMuestraListComponent_Template_input_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup\", function TomaMuestraListComponent_Template_input_keyup_25_listener() {\n            return ctx.buscar();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, TomaMuestraListComponent_button_26_Template, 2, 0, \"button\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 20)(28, \"div\", 21)(29, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_Template_button_click_29_listener() {\n            return ctx.exportarExcel();\n          });\n          i0.ɵɵelement(30, \"i\", 23);\n          i0.ɵɵtext(31, \"Excel \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"button\", 24);\n          i0.ɵɵlistener(\"click\", function TomaMuestraListComponent_Template_button_click_32_listener() {\n            return ctx.exportarPDF();\n          });\n          i0.ɵɵelement(33, \"i\", 25);\n          i0.ɵɵtext(34, \"PDF \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(35, \"div\", 26)(36, \"div\", 27)(37, \"div\", 28);\n          i0.ɵɵtemplate(38, TomaMuestraListComponent_button_38_Template, 3, 7, \"button\", 29);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(39, TomaMuestraListComponent_div_39_Template, 4, 0, \"div\", 30)(40, TomaMuestraListComponent_div_40_Template, 5, 3, \"div\", 31);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", ctx.ordenSeleccionada);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.tecnicoSeleccionado);\n          i0.ɵɵadvance(15);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.searchTerm);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.estados);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i6.NgForOf, i6.NgIf, i5.RouterLink, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel],\n      styles: [\".icono-muestra[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.1rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.35em .65em;font-weight:600}.alert[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;border-radius:.25rem}.btn-group[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:180px}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;padding:.5rem 1rem}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn-close[_ngcontent-%COMP%]{background:transparent url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\\\") center/1em auto no-repeat;padding:.25rem}.text-decoration-none[_ngcontent-%COMP%]{color:#667eea}.text-decoration-none[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline!important}\"]\n    });\n  }\n  return TomaMuestraListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}