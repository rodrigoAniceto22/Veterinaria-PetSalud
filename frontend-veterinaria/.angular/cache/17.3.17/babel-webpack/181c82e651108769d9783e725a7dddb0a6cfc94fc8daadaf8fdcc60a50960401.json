{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/mascota.service\";\nimport * as i2 from \"../../services/dueno.service\";\nimport * as i3 from \"../../services/notificacion.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction MascotaListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"i\", 21);\n    i0.ɵɵtext(2, \" Mostrando mascotas de: \");\n    i0.ɵɵelementStart(3, \"strong\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_8_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarFiltroDueno());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.duenoSeleccionado.nombres, \" \", ctx_r1.duenoSeleccionado.apellidos, \"\");\n  }\n}\nfunction MascotaListComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.limpiarBusqueda());\n    });\n    i0.ɵɵelement(1, \"i\", 25);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MascotaListComponent_button_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_button_23_Template_button_click_0_listener() {\n      const especie_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cambiarFiltroEspecie(especie_r5));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const especie_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"btn-primary\", ctx_r1.filtroEspecie === especie_r5)(\"btn-outline-primary\", ctx_r1.filtroEspecie !== especie_r5);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", especie_r5, \" \");\n  }\n}\nfunction MascotaListComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelement(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"p\", 29);\n    i0.ɵɵtext(3, \"Cargando mascotas...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MascotaListComponent_div_25_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵelementStart(2, \"p\", 3);\n    i0.ɵɵtext(3, \"No se encontraron mascotas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.nueva());\n    });\n    i0.ɵɵelement(5, \"i\", 6);\n    i0.ɵɵtext(6, \"Registrar Primera Mascota \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_small_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mascota_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(mascota_r8.color);\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mascota_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", mascota_r8.edad, \" a\\u00F1o\", mascota_r8.edad > 1 ? \"s\" : \"\", \"\");\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mascota_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", mascota_r8.peso, \" kg\");\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"small\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"small\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const mascota_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", mascota_r8.dueno.nombres, \" \", mascota_r8.dueno.apellidos, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"DNI: \", mascota_r8.dueno.dni, \"\");\n  }\n}\nfunction MascotaListComponent_div_25_div_3_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"div\", 39)(3, \"div\", 40);\n    i0.ɵɵelement(4, \"i\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"strong\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtemplate(9, MascotaListComponent_div_25_div_3_tr_21_small_9_Template, 2, 1, \"small\", 42);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"td\")(11, \"span\", 43);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtemplate(16, MascotaListComponent_div_25_div_3_tr_21_span_16_Template, 2, 2, \"span\", 44)(17, MascotaListComponent_div_25_div_3_tr_21_span_17_Template, 2, 0, \"span\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵelement(19, \"i\", 41);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtemplate(22, MascotaListComponent_div_25_div_3_tr_21_span_22_Template, 2, 1, \"span\", 44)(23, MascotaListComponent_div_25_div_3_tr_21_span_23_Template, 2, 0, \"span\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtemplate(25, MascotaListComponent_div_25_div_3_tr_21_div_25_Template, 6, 3, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 37)(27, \"div\", 45)(28, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_3_tr_21_Template_button_click_28_listener() {\n      const mascota_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.ver(mascota_r8.idMascota));\n    });\n    i0.ɵɵelement(29, \"i\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_3_tr_21_Template_button_click_30_listener() {\n      const mascota_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.verOrdenes(mascota_r8.idMascota));\n    });\n    i0.ɵɵelement(31, \"i\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_3_tr_21_Template_button_click_32_listener() {\n      const mascota_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editar(mascota_r8.idMascota));\n    });\n    i0.ɵɵelement(33, \"i\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_3_tr_21_Template_button_click_34_listener() {\n      const mascota_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.eliminar(mascota_r8));\n    });\n    i0.ɵɵelement(35, \"i\", 53);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const mascota_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(\"bg-\" + ctx_r1.getColorEspecie(mascota_r8.especie));\n    i0.ɵɵadvance();\n    i0.ɵɵclassMap(ctx_r1.getIconoEspecie(mascota_r8.especie));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(mascota_r8.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mascota_r8.color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"bg-\" + ctx_r1.getColorEspecie(mascota_r8.especie));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", mascota_r8.especie, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(mascota_r8.raza || \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mascota_r8.edad);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !mascota_r8.edad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"fa-mars\", mascota_r8.sexo === \"Macho\")(\"fa-venus\", mascota_r8.sexo === \"Hembra\")(\"text-primary\", mascota_r8.sexo === \"Macho\")(\"text-danger\", mascota_r8.sexo === \"Hembra\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", mascota_r8.sexo || \"-\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mascota_r8.peso);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !mascota_r8.peso);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", mascota_r8.dueno);\n  }\n}\nfunction MascotaListComponent_div_25_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"table\", 35)(2, \"thead\", 36)(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Mascota\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Especie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Raza\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Edad\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Sexo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Peso\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Due\\u00F1o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 37);\n    i0.ɵɵtext(19, \"Acciones\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, MascotaListComponent_div_25_div_3_tr_21_Template, 36, 24, \"tr\", 38);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.mascotasPaginadas);\n  }\n}\nfunction MascotaListComponent_div_25_div_4_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 56)(1, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_4_li_8_Template_a_click_1_listener() {\n      const pagina_r11 = i0.ɵɵrestoreView(_r10).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(pagina_r11));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pagina_r11 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"active\", pagina_r11 === ctx_r1.paginaActual);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pagina_r11);\n  }\n}\nfunction MascotaListComponent_div_25_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"small\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"nav\")(4, \"ul\", 55)(5, \"li\", 56)(6, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_4_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual - 1));\n    });\n    i0.ɵɵtext(7, \"Anterior\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, MascotaListComponent_div_25_div_4_li_8_Template, 3, 3, \"li\", 58);\n    i0.ɵɵelementStart(9, \"li\", 56)(10, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function MascotaListComponent_div_25_div_4_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.cambiarPagina(ctx_r1.paginaActual + 1));\n    });\n    i0.ɵɵtext(11, \"Siguiente\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\" Mostrando \", (ctx_r1.paginaActual - 1) * ctx_r1.itemsPorPagina + 1, \" - \", ctx_r1.Math.min(ctx_r1.paginaActual * ctx_r1.itemsPorPagina, ctx_r1.mascotasFiltradas.length), \" de \", ctx_r1.mascotasFiltradas.length, \" registros \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.getNumeroPaginas());\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"disabled\", ctx_r1.paginaActual === ctx_r1.totalPaginas);\n  }\n}\nfunction MascotaListComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 8);\n    i0.ɵɵtemplate(2, MascotaListComponent_div_25_div_2_Template, 7, 0, \"div\", 18)(3, MascotaListComponent_div_25_div_3_Template, 22, 1, \"div\", 31)(4, MascotaListComponent_div_25_div_4_Template, 12, 8, \"div\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.mascotasFiltradas.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.mascotasFiltradas.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.totalPaginas > 1);\n  }\n}\nexport let MascotaListComponent = /*#__PURE__*/(() => {\n  class MascotaListComponent {\n    mascotaService;\n    duenoService;\n    notificacionService;\n    router;\n    route;\n    mascotas = [];\n    mascotasFiltradas = [];\n    loading = true;\n    searchTerm = '';\n    filtroEspecie = 'TODAS';\n    filtroDuenoId = null;\n    duenoSeleccionado = null;\n    // Especies comunes\n    especies = ['TODAS', 'Perro', 'Gato', 'Ave', 'Conejo', 'Hamster', 'Otro'];\n    // Paginación\n    paginaActual = 1;\n    itemsPorPagina = 10;\n    totalPaginas = 0;\n    constructor(mascotaService, duenoService, notificacionService, router, route) {\n      this.mascotaService = mascotaService;\n      this.duenoService = duenoService;\n      this.notificacionService = notificacionService;\n      this.router = router;\n      this.route = route;\n    }\n    ngOnInit() {\n      // Verificar si viene filtro por dueño\n      this.route.queryParams.subscribe(params => {\n        if (params['dueno']) {\n          this.filtroDuenoId = +params['dueno'];\n          this.cargarDuenoSeleccionado(this.filtroDuenoId);\n        }\n      });\n      this.cargarMascotas();\n    }\n    cargarDuenoSeleccionado(id) {\n      this.duenoService.obtenerPorId(id).subscribe({\n        next: dueno => {\n          this.duenoSeleccionado = dueno;\n        },\n        error: error => {\n          console.error('Error al cargar dueño:', error);\n        }\n      });\n    }\n    cargarMascotas() {\n      this.loading = true;\n      if (this.filtroDuenoId) {\n        this.mascotaService.buscarPorDueno(this.filtroDuenoId).subscribe({\n          next: data => {\n            this.procesarMascotas(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      } else {\n        this.mascotaService.listarTodas().subscribe({\n          next: data => {\n            this.procesarMascotas(data);\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorConexion();\n            this.loading = false;\n          }\n        });\n      }\n    }\n    procesarMascotas(data) {\n      this.mascotas = data;\n      this.aplicarFiltros();\n      this.loading = false;\n    }\n    aplicarFiltros() {\n      let resultado = this.mascotas;\n      // Filtro por especie\n      if (this.filtroEspecie !== 'TODAS') {\n        resultado = resultado.filter(m => m.especie === this.filtroEspecie);\n      }\n      // Filtro por búsqueda\n      if (this.searchTerm.trim() !== '') {\n        const term = this.searchTerm.toLowerCase();\n        resultado = resultado.filter(m => m.nombre.toLowerCase().includes(term) || m.raza && m.raza.toLowerCase().includes(term) || m.dueno && (m.dueno.nombres?.toLowerCase().includes(term) || m.dueno.apellidos?.toLowerCase().includes(term)));\n      }\n      this.mascotasFiltradas = resultado;\n      this.calcularPaginacion();\n      this.paginaActual = 1;\n    }\n    cambiarFiltroEspecie(especie) {\n      this.filtroEspecie = especie;\n      this.aplicarFiltros();\n    }\n    buscar() {\n      this.aplicarFiltros();\n    }\n    limpiarBusqueda() {\n      this.searchTerm = '';\n      this.aplicarFiltros();\n    }\n    limpiarFiltroDueno() {\n      this.filtroDuenoId = null;\n      this.duenoSeleccionado = null;\n      this.router.navigate(['/mascotas']);\n      this.cargarMascotas();\n    }\n    calcularPaginacion() {\n      this.totalPaginas = Math.ceil(this.mascotasFiltradas.length / this.itemsPorPagina);\n    }\n    get mascotasPaginadas() {\n      const inicio = (this.paginaActual - 1) * this.itemsPorPagina;\n      const fin = inicio + this.itemsPorPagina;\n      return this.mascotasFiltradas.slice(inicio, fin);\n    }\n    cambiarPagina(pagina) {\n      if (pagina >= 1 && pagina <= this.totalPaginas) {\n        this.paginaActual = pagina;\n      }\n    }\n    getNumeroPaginas() {\n      return Array.from({\n        length: this.totalPaginas\n      }, (_, i) => i + 1);\n    }\n    nueva() {\n      this.router.navigate(['/mascotas/nueva']);\n    }\n    editar(id) {\n      this.router.navigate(['/mascotas/editar', id]);\n    }\n    ver(id) {\n      this.router.navigate(['/mascotas/ver', id]);\n    }\n    verOrdenes(id) {\n      this.router.navigate(['/ordenes'], {\n        queryParams: {\n          mascota: id\n        }\n      });\n    }\n    eliminar(mascota) {\n      if (this.notificacionService.confirmarAccion(`¿Está seguro de eliminar a ${mascota.nombre}?`)) {\n        this.mascotaService.eliminar(mascota.idMascota).subscribe({\n          next: () => {\n            this.notificacionService.exitoEliminar('Mascota');\n            this.cargarMascotas();\n          },\n          error: error => {\n            console.error('Error:', error);\n            this.notificacionService.errorGeneral('No se pudo eliminar la mascota');\n          }\n        });\n      }\n    }\n    getIconoEspecie(especie) {\n      const iconos = {\n        'Perro': 'fa-dog',\n        'Gato': 'fa-cat',\n        'Ave': 'fa-dove',\n        'Conejo': 'fa-rabbit',\n        'Hamster': 'fa-otter',\n        'Otro': 'fa-paw'\n      };\n      return iconos[especie] || 'fa-paw';\n    }\n    getColorEspecie(especie) {\n      const colores = {\n        'Perro': 'primary',\n        'Gato': 'warning',\n        'Ave': 'info',\n        'Conejo': 'success',\n        'Hamster': 'secondary',\n        'Otro': 'dark'\n      };\n      return colores[especie] || 'secondary';\n    }\n    static ɵfac = function MascotaListComponent_Factory(t) {\n      return new (t || MascotaListComponent)(i0.ɵɵdirectiveInject(i1.MascotaService), i0.ɵɵdirectiveInject(i2.DuenoService), i0.ɵɵdirectiveInject(i3.NotificacionService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MascotaListComponent,\n      selectors: [[\"app-mascota-list\"]],\n      decls: 26,\n      vars: 6,\n      consts: [[1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-dog\", \"me-2\"], [1, \"text-muted\"], [\"class\", \"alert alert-info d-inline-flex align-items-center\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"fas\", \"fa-plus\", \"me-2\"], [1, \"card\", \"shadow-sm\", \"mb-4\"], [1, \"card-body\"], [1, \"row\", \"g-3\"], [1, \"col-md-6\"], [1, \"input-group\"], [1, \"input-group-text\"], [1, \"fas\", \"fa-search\"], [\"type\", \"text\", \"placeholder\", \"Buscar por nombre, raza o due\\u00F1o...\", 1, \"form-control\", 3, \"ngModelChange\", \"keyup\", \"ngModel\"], [\"class\", \"btn btn-outline-secondary\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"group\", 1, \"btn-group\", \"w-100\"], [\"class\", \"btn\", 3, \"btn-primary\", \"btn-outline-primary\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [\"class\", \"card shadow-sm\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\", \"d-inline-flex\", \"align-items-center\"], [1, \"fas\", \"fa-filter\", \"me-2\"], [1, \"ms-2\"], [1, \"btn\", \"btn-sm\", \"btn-close\", \"ms-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"click\"], [1, \"fas\", \"fa-times\"], [1, \"btn\", 3, \"click\"], [1, \"text-center\", \"py-5\"], [1, \"spinner-border\", \"text-primary\"], [1, \"mt-3\"], [1, \"card\", \"shadow-sm\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-between align-items-center mt-3\", 4, \"ngIf\"], [1, \"fas\", \"fa-inbox\", \"fa-3x\", \"text-muted\", \"mb-3\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\", \"align-middle\"], [1, \"table-light\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"align-items-center\"], [1, \"mascota-icon\", \"me-2\"], [1, \"fas\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [1, \"badge\"], [4, \"ngIf\"], [1, \"btn-group\", \"btn-group-sm\"], [\"title\", \"Ver detalles\", 1, \"btn\", \"btn-outline-info\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"title\", \"Ver \\u00F3rdenes\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"fas\", \"fa-file-medical\"], [\"title\", \"Editar\", 1, \"btn\", \"btn-outline-warning\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"title\", \"Eliminar\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mt-3\"], [1, \"pagination\", \"pagination-sm\", \"mb-0\"], [1, \"page-item\"], [1, \"page-link\", 3, \"click\"], [\"class\", \"page-item\", 3, \"active\", 4, \"ngFor\", \"ngForOf\"]],\n      template: function MascotaListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\");\n          i0.ɵɵelement(4, \"i\", 2);\n          i0.ɵɵtext(5, \"Gesti\\u00F3n de Mascotas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 3);\n          i0.ɵɵtext(7, \"Lista de animales registrados\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, MascotaListComponent_div_8_Template, 6, 2, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function MascotaListComponent_Template_button_click_9_listener() {\n            return ctx.nueva();\n          });\n          i0.ɵɵelement(10, \"i\", 6);\n          i0.ɵɵtext(11, \"Nueva Mascota \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"div\", 9)(15, \"div\", 10)(16, \"div\", 11)(17, \"span\", 12);\n          i0.ɵɵelement(18, \"i\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function MascotaListComponent_Template_input_ngModelChange_19_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup\", function MascotaListComponent_Template_input_keyup_19_listener() {\n            return ctx.buscar();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(20, MascotaListComponent_button_20_Template, 2, 0, \"button\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 10)(22, \"div\", 16);\n          i0.ɵɵtemplate(23, MascotaListComponent_button_23_Template, 2, 5, \"button\", 17);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(24, MascotaListComponent_div_24_Template, 4, 0, \"div\", 18)(25, MascotaListComponent_div_25_Template, 5, 3, \"div\", 19);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.duenoSeleccionado);\n          i0.ɵɵadvance(11);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.searchTerm);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.especies);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgModel],\n      styles: [\".mascota-icon[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem}.page-link[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.35em .65em}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.85rem}.alert[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;border-radius:.25rem}\"]\n    });\n  }\n  return MascotaListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}