{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/reporte.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction DashboardComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"span\", 10);\n    i0.ɵɵtext(3, \"Cargando...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 11);\n    i0.ɵɵtext(5, \"Cargando dashboard...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_12_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 50);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 51);\n    i0.ɵɵelement(7, \"div\", 52);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.estado);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getBadgeClass(item_r1.estado));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r1.cantidad);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", item_r1.cantidad / ctx_r1.totalOrdenes * 100, \"%\");\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getBadgeClass(item_r1.estado));\n  }\n}\nfunction DashboardComponent_div_12_li_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 53)(1, \"span\");\n    i0.ɵɵelement(2, \"i\", 54);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 55);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const especie_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(especie_r3.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(especie_r3.cantidad);\n  }\n}\nfunction DashboardComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 12)(2, \"div\", 13)(3, \"div\", 14)(4, \"div\", 15)(5, \"div\", 16)(6, \"div\")(7, \"p\", 17);\n    i0.ɵɵtext(8, \"Total \\u00D3rdenes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h3\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 19);\n    i0.ɵɵelement(12, \"i\", 20);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(13, \"div\", 13)(14, \"div\", 14)(15, \"div\", 15)(16, \"div\", 16)(17, \"div\")(18, \"p\", 17);\n    i0.ɵɵtext(19, \"Pendientes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"h3\", 21);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 22);\n    i0.ɵɵelement(23, \"i\", 23);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(24, \"div\", 13)(25, \"div\", 14)(26, \"div\", 15)(27, \"div\", 16)(28, \"div\")(29, \"p\", 17);\n    i0.ɵɵtext(30, \"Resultados Validados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"h3\", 24);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 25);\n    i0.ɵɵelement(34, \"i\", 26);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 13)(36, \"div\", 14)(37, \"div\", 15)(38, \"div\", 16)(39, \"div\")(40, \"p\", 17);\n    i0.ɵɵtext(41, \"Ingresos del Mes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"h3\", 27);\n    i0.ɵɵtext(43);\n    i0.ɵɵpipe(44, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"div\", 28);\n    i0.ɵɵelement(46, \"i\", 29);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(47, \"div\", 12)(48, \"div\", 30)(49, \"div\", 31)(50, \"div\", 32)(51, \"h5\", 18);\n    i0.ɵɵelement(52, \"i\", 33);\n    i0.ɵɵtext(53, \"\\u00D3rdenes por Estado\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"div\", 15);\n    i0.ɵɵtemplate(55, DashboardComponent_div_12_div_55_Template, 8, 6, \"div\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(56, \"div\", 30)(57, \"div\", 31)(58, \"div\", 32)(59, \"h5\", 18);\n    i0.ɵɵelement(60, \"i\", 35);\n    i0.ɵɵtext(61, \"Especies Atendidas\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(62, \"div\", 15)(63, \"ul\", 36);\n    i0.ɵɵtemplate(64, DashboardComponent_div_12_li_64_Template, 6, 2, \"li\", 37);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(65, \"div\", 31)(66, \"div\", 32)(67, \"h5\", 18);\n    i0.ɵɵelement(68, \"i\", 38);\n    i0.ɵɵtext(69, \"Accesos R\\u00E1pidos\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(70, \"div\", 15)(71, \"div\", 39)(72, \"div\", 13)(73, \"a\", 40);\n    i0.ɵɵelement(74, \"i\", 41)(75, \"br\");\n    i0.ɵɵtext(76, \"Nueva Orden \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(77, \"div\", 13)(78, \"a\", 42);\n    i0.ɵɵelement(79, \"i\", 43)(80, \"br\");\n    i0.ɵɵtext(81, \"Registrar Mascota \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(82, \"div\", 13)(83, \"a\", 44);\n    i0.ɵɵelement(84, \"i\", 45)(85, \"br\");\n    i0.ɵɵtext(86, \"Resultados \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(87, \"div\", 13)(88, \"a\", 46);\n    i0.ɵɵelement(89, \"i\", 47)(90, \"br\");\n    i0.ɵɵtext(91, \"Reportes \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(ctx_r1.totalOrdenes);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r1.ordenesPendientes);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r1.resultadosValidados);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"S/. \", i0.ɵɵpipeBind2(44, 6, ctx_r1.ingresosMes, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.ordenesPorEstado);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.especiesAtendidas);\n  }\n}\nexport let DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    reporteService;\n    authService;\n    loading = true;\n    dashboardData = null;\n    usuarioRol = '';\n    // KPIs principales\n    totalOrdenes = 0;\n    ordenesPendientes = 0;\n    resultadosValidados = 0;\n    ingresosMes = 0;\n    // Gráficas\n    ordenesPorEstado = [];\n    especiesAtendidas = [];\n    constructor(reporteService, authService) {\n      this.reporteService = reporteService;\n      this.authService = authService;\n    }\n    ngOnInit() {\n      this.usuarioRol = this.authService.getRolUsuario();\n      this.cargarDashboard();\n    }\n    cargarDashboard() {\n      this.loading = true;\n      this.reporteService.obtenerDashboard().subscribe({\n        next: data => {\n          this.dashboardData = data;\n          this.procesarDatos(data);\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Error al cargar dashboard:', error);\n          this.loading = false;\n        }\n      });\n    }\n    procesarDatos(data) {\n      this.totalOrdenes = data.totalOrdenes || 0;\n      this.ordenesPendientes = data.ordenesPendientes || 0;\n      this.resultadosValidados = data.resultadosValidados || 0;\n      this.ingresosMes = data.ingresosMes || 0;\n      this.ordenesPorEstado = data.ordenesPorEstado || [];\n      this.especiesAtendidas = data.especiesAtendidas || [];\n    }\n    refrescar() {\n      this.cargarDashboard();\n    }\n    getBadgeClass(estado) {\n      const badges = {\n        'PENDIENTE': 'bg-warning',\n        'EN_PROCESO': 'bg-info',\n        'COMPLETADA': 'bg-success',\n        'CANCELADA': 'bg-danger'\n      };\n      return badges[estado] || 'bg-secondary';\n    }\n    static ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.ReporteService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 13,\n      vars: 5,\n      consts: [[1, \"container-fluid\", \"py-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-home\", \"me-2\"], [1, \"text-muted\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"fas\", \"fa-sync-alt\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-3\"], [1, \"row\", \"g-3\", \"mb-4\"], [1, \"col-md-3\"], [1, \"card\", \"border-0\", \"shadow-sm\", \"h-100\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"text-muted\", \"mb-1\"], [1, \"mb-0\"], [1, \"icon-box\", \"bg-primary\"], [1, \"fas\", \"fa-file-medical\", \"fa-2x\", \"text-white\"], [1, \"mb-0\", \"text-warning\"], [1, \"icon-box\", \"bg-warning\"], [1, \"fas\", \"fa-clock\", \"fa-2x\", \"text-white\"], [1, \"mb-0\", \"text-success\"], [1, \"icon-box\", \"bg-success\"], [1, \"fas\", \"fa-check-circle\", \"fa-2x\", \"text-white\"], [1, \"mb-0\", \"text-info\"], [1, \"icon-box\", \"bg-info\"], [1, \"fas\", \"fa-dollar-sign\", \"fa-2x\", \"text-white\"], [1, \"col-md-6\"], [1, \"card\", \"border-0\", \"shadow-sm\"], [1, \"card-header\", \"bg-white\"], [1, \"fas\", \"fa-chart-pie\", \"me-2\"], [\"class\", \"mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-paw\", \"me-2\"], [1, \"list-group\", \"list-group-flush\"], [\"class\", \"list-group-item d-flex justify-content-between\", 4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-bolt\", \"me-2\"], [1, \"row\", \"g-3\"], [\"routerLink\", \"/ordenes\", 1, \"btn\", \"btn-outline-primary\", \"w-100\"], [1, \"fas\", \"fa-file-medical\", \"fa-2x\", \"mb-2\"], [\"routerLink\", \"/mascotas\", 1, \"btn\", \"btn-outline-success\", \"w-100\"], [1, \"fas\", \"fa-dog\", \"fa-2x\", \"mb-2\"], [\"routerLink\", \"/resultados\", 1, \"btn\", \"btn-outline-info\", \"w-100\"], [1, \"fas\", \"fa-clipboard-check\", \"fa-2x\", \"mb-2\"], [\"routerLink\", \"/reportes/kpis\", 1, \"btn\", \"btn-outline-warning\", \"w-100\"], [1, \"fas\", \"fa-chart-bar\", \"fa-2x\", \"mb-2\"], [1, \"mb-3\"], [1, \"d-flex\", \"justify-content-between\", \"mb-1\"], [1, \"badge\", 3, \"ngClass\"], [1, \"progress\", 2, \"height\", \"10px\"], [1, \"progress-bar\", 3, \"ngClass\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\"], [1, \"fas\", \"fa-dog\", \"me-2\", \"text-primary\"], [1, \"badge\", \"bg-primary\", \"rounded-pill\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\");\n          i0.ɵɵelement(4, \"i\", 2);\n          i0.ɵɵtext(5, \"Dashboard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"p\", 3);\n          i0.ɵɵtext(7, \"Panel de control - Sistema PetSalud\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_8_listener() {\n            return ctx.refrescar();\n          });\n          i0.ɵɵelement(9, \"i\", 5);\n          i0.ɵɵtext(10, \" Refrescar \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(11, DashboardComponent_div_11_Template, 6, 0, \"div\", 6)(12, DashboardComponent_div_12_Template, 92, 9, \"div\", 7);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵclassProp(\"fa-spin\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i3.DecimalPipe],\n      styles: [\".icon-box[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:10px;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}\"]\n    });\n  }\n  return DashboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}